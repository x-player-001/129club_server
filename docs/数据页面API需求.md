# æ•°æ®é¡µé¢APIéœ€æ±‚æ–‡æ¡£

## æ¥å£åœ°å€
`GET /api/stats/overview`

## è¯·æ±‚å‚æ•°
| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| filterType | String | å¦ | ç­›é€‰ç±»å‹: `all`(å…¨éƒ¨) / `month`(æœ¬æœˆ) / `season`(æœ¬èµ›å­£)ï¼Œé»˜è®¤`season` |

## è¿”å›æ•°æ®ç»“æ„

```json
{
  "code": 200,
  "message": "success",
  "data": {
    // 1. æ•´ä½“ç»Ÿè®¡æ•°æ®
    "summary": {
      "totalMatches": 18,        // æ€»æ¯”èµ›åœºæ¬¡
      "totalGoals": 95,          // æ€»è¿›çƒæ•°
      "totalAssists": 95         // æ€»åŠ©æ”»æ•°
    },

    // 2. ä¸ªäººæ•°æ®
    "myStats": {
      "matches": 15,             // å‚èµ›åœºæ¬¡
      "goals": 12,               // è¿›çƒæ•°
      "assists": 8,              // åŠ©æ”»æ•°
      "mvp": 3,                  // MVPæ¬¡æ•°
      "winRate": 66.7,           // èƒœç‡(ç™¾åˆ†æ¯”)
      "attendance": 93.3         // å‡ºå‹¤ç‡(ç™¾åˆ†æ¯”)
    },

    // 3. ä¸ªäººæ’å
    "myRanking": {
      "goalsRank": 2,            // å°„æ‰‹æ¦œæ’å(ç¬¬å‡ å)
      "assistsRank": 3,          // åŠ©æ”»æ¦œæ’å
      "attendanceRank": 1        // å‡ºå‹¤æ¦œæ’å
    },

    // 4. é˜Ÿä¼æ•°æ®
    "teamStats": {
      "name": "å˜‰é™µæ‘©æ‰˜",        // é˜Ÿä¼åç§°
      "logo": "/static/images/logoa.png",  // é˜Ÿä¼logo
      "matchesPlayed": 18,       // æ€»åœºæ¬¡
      "wins": 12,                // èƒœåœº
      "draws": 3,                // å¹³å±€
      "losses": 3,               // è´Ÿåœº
      "winRate": 66.7,           // èƒœç‡
      "goalsFor": 48,            // è¿›çƒæ•°
      "goalsAgainst": 32         // å¤±çƒæ•°
    },

    // 5. è¿‘æœŸæˆ˜ç»©(æœ€è¿‘5åœº)
    "recentMatches": [
      {
        "id": "5",                      // æ¯”èµ›ID
        "matchDate": "2025-10-20",      // æ¯”èµ›æ—¥æœŸ
        "team1": {
          "id": "1",
          "name": "å˜‰é™µæ‘©æ‰˜"
        },
        "team2": {
          "id": "2",
          "name": "é•¿æ±Ÿé»„æ²³"
        },
        "result": {
          "team1Goals": 5,              // é˜Ÿä¼1è¿›çƒ
          "team2Goals": 3               // é˜Ÿä¼2è¿›çƒ
        },
        "myStats": {                    // â­ é‡ç‚¹ï¼šå½“å‰ç”¨æˆ·åœ¨è¿™åœºæ¯”èµ›çš„è¡¨ç°
          "goals": 2,                   // æˆ‘çš„è¿›çƒæ•°
          "assists": 1                  // æˆ‘çš„åŠ©æ”»æ•°
        },
        "mvpUserIds": ["å½“å‰ç”¨æˆ·ID"]    // MVPç”¨æˆ·IDåˆ—è¡¨(ç”¨äºåˆ¤æ–­æ˜¯å¦è·å¾—MVP)
      }
      // ... æœ€å¤šè¿”å›5åœº
    ]
  }
}
```

## å‰ç«¯é¡µé¢å±•ç¤ºè¯´æ˜

### 1. ä¸ªäººæ•°æ®Heroå¡ç‰‡(çº¢è‰²å¤§å¡ç‰‡)
- æ˜¾ç¤º: å‚èµ›/è¿›çƒ/åŠ©æ”»/MVP
- æ˜¾ç¤º: å°„æ‰‹æ¦œç¬¬X/åŠ©æ”»æ¦œç¬¬X/å‡ºå‹¤æ¦œç¬¬X

### 2. æˆå°±å¾½ç« (æ¨ªå‘æ»šåŠ¨)
å‰ç«¯è‡ªåŠ¨è®¡ç®—,éœ€è¦æ•°æ®:
- `myStats` (ç”¨äºåˆ¤æ–­è¿›çƒâ‰¥10ã€MVPâ‰¥5ç­‰)
- `recentMatches` (ç”¨äºåˆ¤æ–­å¸½å­æˆæ³•ã€è¿èƒœç­‰)

æˆå°±è§„åˆ™:
- ğŸ© å¸½å­æˆæ³•: å•åœº3çƒ
- ğŸ¯ åŠ©æ”»ç‹: å•åœº3åŠ©æ”»
- ğŸ“… å…¨å‹¤å¥–: å‡ºå‹¤ç‡100%
- â­ MVPæ”¶å‰²æœº: MVPâ‰¥5æ¬¡
- âš½ è¿›çƒæœºå™¨: è¿›çƒâ‰¥10
- ğŸ”¥ è¿èƒœæˆ˜ç¥: æœ€è¿‘3åœºå…¨èƒœ

### 3. é˜Ÿä¼æ•°æ®
- æ˜¾ç¤ºé˜Ÿä¼æˆ˜ç»©æ¡å½¢å›¾

### 4. è¿‘æœŸæˆ˜ç»©
- æ˜¾ç¤ºæ¯åœº: æ—¥æœŸ/èƒœè´Ÿ/æ¯”åˆ†/å¯¹æ‰‹
- â­ é‡ç‚¹: æ˜¾ç¤º"æˆ‘çš„è¡¨ç°": XçƒXåŠ©æ”»,MVPæ ‡è®°

### 5. èµ›å­£æ€»è§ˆ
- æ˜¾ç¤ºæ€»åœºæ¬¡/æ€»è¿›çƒ/æ€»åŠ©æ”»

## å…³é”®å­—æ®µè¯´æ˜

### `myStats` (ä¸ªäººè¡¨ç°)
è¿™æ˜¯å‰ç«¯æœ€å…³å¿ƒçš„æ•°æ®,éœ€è¦åœ¨**æ¯åœºæ¯”èµ›**ä¸­è¿”å›å½“å‰ç”¨æˆ·çš„ä¸ªäººæ•°æ®:
```json
"myStats": {
  "goals": 2,      // è¿™åœºæ¯”èµ›æˆ‘è¿›äº†å‡ çƒ
  "assists": 1     // è¿™åœºæ¯”èµ›æˆ‘åŠ©æ”»äº†å‡ æ¬¡
}
```

### `mvpUserIds` (MVPåˆ¤æ–­)
è¿”å›è¯¥åœºæ¯”èµ›çš„MVPç”¨æˆ·IDæ•°ç»„(å¯èƒ½æœ‰å¤šä¸ªMVP):
```json
"mvpUserIds": ["user123", "user456"]
```
å‰ç«¯ä¼šåˆ¤æ–­: `mvpUserIds.includes(å½“å‰ç”¨æˆ·ID)` æ¥æ˜¾ç¤ºMVPå¾½ç« 

## ç¤ºä¾‹è¿”å›æ•°æ®(å®Œæ•´)

```json
{
  "code": 200,
  "data": {
    "summary": {
      "totalMatches": 18,
      "totalGoals": 95,
      "totalAssists": 95
    },
    "myStats": {
      "matches": 15,
      "goals": 12,
      "assists": 8,
      "mvp": 3,
      "winRate": 66.7,
      "attendance": 93.3
    },
    "myRanking": {
      "goalsRank": 2,
      "assistsRank": 3,
      "attendanceRank": 1
    },
    "teamStats": {
      "name": "å˜‰é™µæ‘©æ‰˜",
      "logo": "/static/images/logoa.png",
      "matchesPlayed": 18,
      "wins": 12,
      "draws": 3,
      "losses": 3,
      "winRate": 66.7,
      "goalsFor": 48,
      "goalsAgainst": 32
    },
    "recentMatches": [
      {
        "id": "5",
        "matchDate": "2025-10-20",
        "team1": {"id": "1", "name": "å˜‰é™µæ‘©æ‰˜"},
        "team2": {"id": "2", "name": "é•¿æ±Ÿé»„æ²³"},
        "result": {"team1Goals": 5, "team2Goals": 3},
        "myStats": {"goals": 2, "assists": 1},
        "mvpUserIds": ["å½“å‰ç”¨æˆ·ID"]
      }
    ]
  }
}
```

## æ³¨æ„äº‹é¡¹

1. **å¿…é¡»åŒ…å«ä¸ªäººè¡¨ç°**: `recentMatches`ä¸­æ¯åœºæ¯”èµ›çš„`myStats`æ˜¯å¿…é¡»çš„,å‰ç«¯è¦æ˜¾ç¤º"æˆ‘çš„è¡¨ç°: 2çƒ1åŠ©æ”»"
2. **æ’åå¯ä¸ºnull**: å¦‚æœç”¨æˆ·æ²¡æœ‰ä¸Šæ¦œ,`myRanking`çš„å„é¡¹å¯ä»¥è¿”å›`null`
3. **æ—¥æœŸæ ¼å¼**: `matchDate`å»ºè®®è¿”å›`YYYY-MM-DD`æ ¼å¼,å‰ç«¯ä¼šè‡ªåŠ¨æ ¼å¼åŒ–ä¸º`M/D`
4. **ç­›é€‰é€»è¾‘**:
   - `filterType=season`: è¿”å›å½“å‰èµ›å­£æ•°æ®
   - `filterType=month`: è¿”å›æœ¬æœˆæ•°æ®
   - `filterType=all`: è¿”å›å…¨éƒ¨æ•°æ®

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-20
**å‰ç«¯é¡µé¢**: pages/stats/overview
