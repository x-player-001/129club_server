# èµ›å­£ç®¡ç†æ¨¡å—æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [æ¨¡å—æ¦‚è¿°](#æ¨¡å—æ¦‚è¿°)
- [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
- [APIæ¥å£](#apiæ¥å£)
- [ä¸šåŠ¡é€»è¾‘](#ä¸šåŠ¡é€»è¾‘)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)

---

## æ¨¡å—æ¦‚è¿°

èµ›å­£ç®¡ç†æ¨¡å—ç”¨äºç®¡ç†è¶³çƒæ¯”èµ›çš„èµ›å­£ä¿¡æ¯ï¼Œæ”¯æŒï¼š
- èµ›å­£çš„åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤
- èµ›å­£çŠ¶æ€ç®¡ç†ï¼ˆå³å°†å¼€å§‹ã€è¿›è¡Œä¸­ã€å·²å®Œæˆã€å·²å½’æ¡£ï¼‰
- èµ›å­£æ¯”èµ›å…³è”ä¸æ•°é‡é™åˆ¶
- èµ›å­£ç»Ÿè®¡ä¸ç§¯åˆ†æ’å
- å†å²èµ›å­£æ•°æ®æŸ¥è¯¢

### æ ¸å¿ƒç‰¹æ€§

âœ… **çµæ´»çš„èµ›å­£é…ç½®**ï¼šèµ›å­£é•¿åº¦å¯é…ç½®ï¼Œä¸é™åˆ¶æ¯”èµ›åœºæ•°
âœ… **çŠ¶æ€ç”Ÿå‘½å‘¨æœŸç®¡ç†**ï¼šupcoming â†’ active â†’ completed â†’ archived
âœ… **æ¯”èµ›å…³è”**ï¼šåˆ›å»ºæ¯”èµ›æ—¶å¯æŒ‡å®šæ‰€å±èµ›å­£
âœ… **è‡ªåŠ¨ç»Ÿè®¡**ï¼šè‡ªåŠ¨è®¡ç®—èµ›å­£å†…é˜Ÿä¼ç§¯åˆ†å’Œæ’å
âœ… **æ•°æ®éš”ç¦»**ï¼šæ¯ä¸ªèµ›å­£çš„æ•°æ®ç‹¬ç«‹ç®¡ç†ï¼Œæ”¯æŒå†å²æ•°æ®æŸ¥è¯¢

---

## æ•°æ®æ¨¡å‹

### Season è¡¨ç»“æ„

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| id | UUID | æ˜¯ | è‡ªåŠ¨ç”Ÿæˆ | èµ›å­£ID |
| name | VARCHAR(50) | æ˜¯ | - | èµ›å­£åç§°ï¼Œå”¯ä¸€ï¼Œå¦‚"2025-S1" |
| title | VARCHAR(100) | å¦ | NULL | èµ›å­£æ ‡é¢˜ |
| description | TEXT | å¦ | NULL | èµ›å­£è¯´æ˜ |
| start_date | DATETIME | å¦ | NULL | èµ›å­£å¼€å§‹æ—¥æœŸ |
| end_date | DATETIME | å¦ | NULL | èµ›å­£ç»“æŸæ—¥æœŸ |
| max_matches | INT | å¦ | 10 | èµ›å­£æœ€å¤§æ¯”èµ›åœºæ•° |
| status | ENUM | å¦ | 'upcoming' | èµ›å­£çŠ¶æ€ |
| created_by | UUID | å¦ | NULL | åˆ›å»ºè€…ID |
| created_at | DATETIME | å¦ | NOW() | åˆ›å»ºæ—¶é—´ |
| completed_at | DATETIME | å¦ | NULL | å®Œæˆæ—¶é—´ |

### èµ›å­£çŠ¶æ€è¯´æ˜

| çŠ¶æ€ | å€¼ | è¯´æ˜ |
|------|-----|------|
| å³å°†å¼€å§‹ | `upcoming` | èµ›å­£å·²åˆ›å»ºä½†æœªå¼€å§‹ |
| è¿›è¡Œä¸­ | `active` | èµ›å­£æ­£åœ¨è¿›è¡Œï¼Œå¯ä»¥æ·»åŠ æ¯”èµ› |
| å·²å®Œæˆ | `completed` | èµ›å­£å·²ç»“æŸï¼Œä¸èƒ½æ·»åŠ æ¯”èµ› |
| å·²å½’æ¡£ | `archived` | èµ›å­£å·²å½’æ¡£ï¼Œä¸èƒ½æ·»åŠ æ¯”èµ› |

### Match è¡¨å…³è”å­—æ®µ

åœ¨ `matches` è¡¨ä¸­æ–°å¢å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| season_id | UUID | å¦ | æ‰€å±èµ›å­£IDï¼Œå¤–é”®å…³è”seasons.id |

---

## APIæ¥å£

### åŸºç¡€è·¯å¾„

```
/api/season
```

æ‰€æœ‰æ¥å£éƒ½éœ€è¦ç”¨æˆ·ç™»å½•è®¤è¯ï¼ˆéœ€è¦æºå¸¦ tokenï¼‰ã€‚

---

### 1. åˆ›å»ºèµ›å­£

**æ¥å£åœ°å€ï¼š** `POST /api/season`

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "name": "2025-S1",           // å¿…å¡«ï¼Œèµ›å­£åç§°ï¼ˆå”¯ä¸€ï¼‰
  "title": "2025å¹´ç¬¬ä¸€èµ›å­£",    // å¯é€‰ï¼Œèµ›å­£æ ‡é¢˜
  "description": "æ˜¥å­£è”èµ›",    // å¯é€‰ï¼Œèµ›å­£è¯´æ˜
  "startDate": "2025-01-01",   // å¯é€‰ï¼Œå¼€å§‹æ—¥æœŸ
  "endDate": "2025-06-30",     // å¯é€‰ï¼Œç»“æŸæ—¥æœŸ
  "maxMatches": 10             // å¯é€‰ï¼Œæœ€å¤§æ¯”èµ›åœºæ•°ï¼Œé»˜è®¤10
}
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "message": "åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "name": "2025-S1",
    "title": "2025å¹´ç¬¬ä¸€èµ›å­£",
    "description": "æ˜¥å­£è”èµ›",
    "startDate": "2025-01-01T00:00:00.000Z",
    "endDate": "2025-06-30T00:00:00.000Z",
    "maxMatches": 10,
    "status": "upcoming",
    "createdBy": "user-uuid",
    "createdAt": "2025-10-18T10:00:00.000Z",
    "completedAt": null
  }
}
```

**é”™è¯¯å“åº”ï¼š**

- èµ›å­£åç§°å·²å­˜åœ¨ï¼š`{ "code": 1, "message": "èµ›å­£åç§°å·²å­˜åœ¨" }`

---

### 2. è·å–èµ›å­£åˆ—è¡¨

**æ¥å£åœ°å€ï¼š** `GET /api/season/list`

**æŸ¥è¯¢å‚æ•°ï¼š**

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| status | string | å¦ | ç­›é€‰çŠ¶æ€ï¼šupcoming/active/completed/archived |
| page | number | å¦ | é¡µç ï¼Œé»˜è®¤1 |
| limit | number | å¦ | æ¯é¡µæ•°é‡ï¼Œé»˜è®¤20 |

**è¯·æ±‚ç¤ºä¾‹ï¼š**

```
GET /api/season/list?status=active&page=1&limit=10
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "data": {
    "list": [
      {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "name": "2025-S1",
        "title": "2025å¹´ç¬¬ä¸€èµ›å­£",
        "description": "æ˜¥å­£è”èµ›",
        "startDate": "2025-01-01T00:00:00.000Z",
        "endDate": "2025-06-30T00:00:00.000Z",
        "maxMatches": 10,
        "status": "active",
        "createdAt": "2025-10-18T10:00:00.000Z"
      }
    ],
    "total": 1,
    "page": 1,
    "limit": 10,
    "totalPages": 1
  }
}
```

---

### 3. è·å–èµ›å­£è¯¦æƒ…

**æ¥å£åœ°å€ï¼š** `GET /api/season/:seasonId/detail`

**è·¯å¾„å‚æ•°ï¼š**

- `seasonId`ï¼šèµ›å­£ID

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "name": "2025-S1",
    "title": "2025å¹´ç¬¬ä¸€èµ›å­£",
    "description": "æ˜¥å­£è”èµ›",
    "startDate": "2025-01-01T00:00:00.000Z",
    "endDate": "2025-06-30T00:00:00.000Z",
    "maxMatches": 10,
    "status": "active",
    "createdAt": "2025-10-18T10:00:00.000Z",
    "matches": [
      {
        "id": "match-uuid-1",
        "title": "çº¢é˜Ÿ vs è“é˜Ÿ",
        "matchDate": "2025-03-15T10:00:00.000Z",
        "status": "completed",
        "team1": {
          "id": "team-uuid-1",
          "name": "çº¢é˜Ÿ",
          "logo": "https://example.com/red-logo.png"
        },
        "team2": {
          "id": "team-uuid-2",
          "name": "è“é˜Ÿ",
          "logo": "https://example.com/blue-logo.png"
        }
      }
    ],
    "matchCount": 1
  }
}
```

**é”™è¯¯å“åº”ï¼š**

- èµ›å­£ä¸å­˜åœ¨ï¼š`{ "code": 1, "message": "èµ›å­£ä¸å­˜åœ¨" }`

---

### 4. è·å–èµ›å­£ç»Ÿè®¡

**æ¥å£åœ°å€ï¼š** `GET /api/season/:seasonId/statistics`

**è·¯å¾„å‚æ•°ï¼š**

- `seasonId`ï¼šèµ›å­£ID

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "data": {
    "season": {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "name": "2025-S1",
      "title": "2025å¹´ç¬¬ä¸€èµ›å­£"
    },
    "totalMatches": 8,
    "completedMatches": 8,
    "rankings": [
      {
        "teamId": "team-uuid-1",
        "teamName": "çº¢é˜Ÿ",
        "teamLogo": "https://example.com/red-logo.png",
        "totalScore": 15,      // æ€»ç§¯åˆ†ï¼ˆ4èŠ‚åˆ¶ç´¯è®¡åˆ†æ•° æˆ– ä¼ ç»Ÿåˆ¶ï¼šèµ¢3åˆ†ã€å¹³1åˆ†ã€è¾“0åˆ†ï¼‰
        "totalGoals": 24,      // æ€»è¿›çƒæ•°
        "matchCount": 8,       // å‚èµ›åœºæ•°
        "winCount": 5,         // èƒœåœºæ•°
        "loseCount": 3         // è´Ÿåœºæ•°
      },
      {
        "teamId": "team-uuid-2",
        "teamName": "è“é˜Ÿ",
        "teamLogo": "https://example.com/blue-logo.png",
        "totalScore": 12,
        "totalGoals": 18,
        "matchCount": 8,
        "winCount": 4,
        "loseCount": 4
      }
    ]
  }
}
```

**ç§¯åˆ†è§„åˆ™è¯´æ˜ï¼š**

- **4èŠ‚åˆ¶æ¯”èµ›**ï¼šä½¿ç”¨ `match_results` è¡¨ä¸­çš„ `team1_final_score` å’Œ `team2_final_score`ï¼ˆæ¯èŠ‚èƒœåˆ©è·å¾—çš„ç§¯åˆ†ç´¯åŠ ï¼‰
- **ä¼ ç»Ÿåˆ¶æ¯”èµ›**ï¼šèµ¢å¾—æ¯”èµ› = 3åˆ†ï¼Œå¹³å±€ = 1åˆ†ï¼Œè¾“ = 0åˆ†

**æ’åè§„åˆ™ï¼š**

1. æŒ‰æ€»ç§¯åˆ†é™åº
2. ç§¯åˆ†ç›¸åŒæ—¶æŒ‰æ€»è¿›çƒæ•°é™åº

---

### 5. æ›´æ–°èµ›å­£ä¿¡æ¯

**æ¥å£åœ°å€ï¼š** `PUT /api/season/:seasonId`

**è·¯å¾„å‚æ•°ï¼š**

- `seasonId`ï¼šèµ›å­£ID

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "title": "2025å¹´æ˜¥å­£è”èµ›",     // å¯é€‰
  "description": "æ›´æ–°åçš„è¯´æ˜", // å¯é€‰
  "startDate": "2025-01-15",    // å¯é€‰
  "endDate": "2025-07-15",      // å¯é€‰
  "maxMatches": 15,             // å¯é€‰
  "status": "active"            // å¯é€‰ï¼šupcoming/active/completed/archived
}
```

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "message": "æ›´æ–°æˆåŠŸ",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "name": "2025-S1",
    "title": "2025å¹´æ˜¥å­£è”èµ›",
    "description": "æ›´æ–°åçš„è¯´æ˜",
    "startDate": "2025-01-15T00:00:00.000Z",
    "endDate": "2025-07-15T00:00:00.000Z",
    "maxMatches": 15,
    "status": "active",
    "completedAt": null
  }
}
```

**æ³¨æ„äº‹é¡¹ï¼š**

- å½“çŠ¶æ€æ›´æ–°ä¸º `completed` æ—¶ï¼Œä¼šè‡ªåŠ¨è®¾ç½® `completedAt` ä¸ºå½“å‰æ—¶é—´
- ä¸èƒ½ä¿®æ”¹èµ›å­£åç§° `name`ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰

---

### 6. æ¿€æ´»èµ›å­£

**æ¥å£åœ°å€ï¼š** `POST /api/season/:seasonId/activate`

**è·¯å¾„å‚æ•°ï¼š**

- `seasonId`ï¼šèµ›å­£ID

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "message": "èµ›å­£å·²æ¿€æ´»",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "name": "2025-S1",
    "status": "active"
  }
}
```

**é”™è¯¯å“åº”ï¼š**

- èµ›å­£å·²ç»æ˜¯æ¿€æ´»çŠ¶æ€ï¼š`{ "code": 1, "message": "èµ›å­£å·²ç»æ˜¯æ¿€æ´»çŠ¶æ€" }`

---

### 7. å®Œæˆèµ›å­£

**æ¥å£åœ°å€ï¼š** `POST /api/season/:seasonId/complete`

**è·¯å¾„å‚æ•°ï¼š**

- `seasonId`ï¼šèµ›å­£ID

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "message": "èµ›å­£å·²å®Œæˆ",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "name": "2025-S1",
    "status": "completed",
    "completedAt": "2025-10-18T12:00:00.000Z"
  }
}
```

**æ³¨æ„äº‹é¡¹ï¼š**

- å®Œæˆåçš„èµ›å­£æ— æ³•å†æ·»åŠ æ–°æ¯”èµ›
- ä¼šè‡ªåŠ¨è®¾ç½® `completedAt` ä¸ºå½“å‰æ—¶é—´

---

### 8. åˆ é™¤èµ›å­£

**æ¥å£åœ°å€ï¼š** `DELETE /api/season/:seasonId`

**è·¯å¾„å‚æ•°ï¼š**

- `seasonId`ï¼šèµ›å­£ID

**å“åº”ç¤ºä¾‹ï¼š**

```json
{
  "code": 0,
  "success": true,
  "data": {
    "message": "èµ›å­£å·²åˆ é™¤"
  }
}
```

**é”™è¯¯å“åº”ï¼š**

- èµ›å­£æœ‰å…³è”æ¯”èµ›ï¼š`{ "code": 1, "message": "è¯¥èµ›å­£æœ‰5åœºæ¯”èµ›ï¼Œæ— æ³•åˆ é™¤ã€‚è¯·å…ˆåˆ é™¤æˆ–ç§»é™¤æ¯”èµ›çš„èµ›å­£å…³è”ã€‚" }`

---

## ä¸šåŠ¡é€»è¾‘

### åˆ›å»ºæ¯”èµ›æ—¶å…³è”èµ›å­£

åœ¨åˆ›å»ºæ¯”èµ›æ—¶ï¼Œå¯ä»¥é€šè¿‡ `seasonId` å‚æ•°å°†æ¯”èµ›å…³è”åˆ°èµ›å­£ï¼š

**æ¥å£ï¼š** `POST /api/match`

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "title": "çº¢é˜Ÿ vs è“é˜Ÿ",
  "team1Id": "team-uuid-1",
  "team2Id": "team-uuid-2",
  "matchDate": "2025-03-15 14:00:00",
  "location": "å¸‚ä½“è‚²åœº",
  "description": "ç¬¬ä¸‰è½®æ¯”èµ›",
  "seasonId": "550e8400-e29b-41d4-a716-446655440000",  // èµ›å­£IDï¼ˆå¯é€‰ï¼‰
  "quarterSystem": true,
  "maxPlayersPerTeam": 8
}
```

### èµ›å­£æ¯”èµ›æ•°é‡é™åˆ¶

åˆ›å»ºæ¯”èµ›æ—¶ä¼šè‡ªåŠ¨éªŒè¯ï¼š

1. **èµ›å­£æ˜¯å¦å­˜åœ¨**ï¼šå¦‚æœ `seasonId` æ— æ•ˆï¼Œè¿”å›é”™è¯¯
2. **èµ›å­£çŠ¶æ€æ£€æŸ¥**ï¼š
   - âœ… `upcoming` æˆ– `active` çŠ¶æ€ï¼šå¯ä»¥æ·»åŠ æ¯”èµ›
   - âŒ `completed` æˆ– `archived` çŠ¶æ€ï¼šä¸èƒ½æ·»åŠ æ¯”èµ›
3. **æ¯”èµ›æ•°é‡é™åˆ¶**ï¼š
   - å¦‚æœè®¾ç½®äº† `maxMatches`ï¼Œå½“è¾¾åˆ°ä¸Šé™æ—¶æ— æ³•åˆ›å»ºæ–°æ¯”èµ›
   - é”™è¯¯ç¤ºä¾‹ï¼š`{ "code": 1, "message": "èµ›å­£æ¯”èµ›æ•°å·²è¾¾ä¸Šé™ï¼ˆ10åœºï¼‰" }`

### èµ›å­£ç»Ÿè®¡é€»è¾‘

#### ç§¯åˆ†è®¡ç®—

**4èŠ‚åˆ¶æ¯”èµ›ï¼ˆquarterSystem = trueï¼‰ï¼š**
- ä½¿ç”¨ `match_results.team1_final_score` å’Œ `team2_final_score`
- è¿™äº›åˆ†æ•°å·²ç»æ˜¯æ¯èŠ‚ç§¯åˆ†çš„ç´¯åŠ ï¼ˆQ1å’ŒQ2èƒœåˆ©å„1åˆ†ï¼ŒQ3å’ŒQ4èƒœåˆ©å„2åˆ†ï¼‰

**ä¼ ç»Ÿåˆ¶æ¯”èµ›ï¼ˆquarterSystem = falseï¼‰ï¼š**
- èµ¢å¾—æ¯”èµ›ï¼ˆè¿›çƒå¤šï¼‰= 3åˆ†
- å¹³å±€ï¼ˆè¿›çƒç›¸åŒï¼‰= 1åˆ†
- è¾“æ‰æ¯”èµ› = 0åˆ†

#### æ’åè§„åˆ™

1. æŒ‰ `totalScore`ï¼ˆæ€»ç§¯åˆ†ï¼‰é™åºæ’åˆ—
2. å¦‚æœç§¯åˆ†ç›¸åŒï¼ŒæŒ‰ `totalGoals`ï¼ˆæ€»è¿›çƒæ•°ï¼‰é™åºæ’åˆ—

---

## ä½¿ç”¨ç¤ºä¾‹

### å®Œæ•´æµç¨‹ç¤ºä¾‹

#### 1. åˆ›å»ºæ–°èµ›å­£

```bash
POST /api/season
Content-Type: application/json
Authorization: Bearer <token>

{
  "name": "2025-S1",
  "title": "2025å¹´æ˜¥å­£è”èµ›",
  "description": "129ä¿±ä¹éƒ¨2025å¹´ç¬¬ä¸€èµ›å­£",
  "startDate": "2025-01-01",
  "endDate": "2025-06-30",
  "maxMatches": 10
}
```

#### 2. æ¿€æ´»èµ›å­£

```bash
POST /api/season/550e8400-e29b-41d4-a716-446655440000/activate
Authorization: Bearer <token>
```

#### 3. åˆ›å»ºèµ›å­£æ¯”èµ›

```bash
POST /api/match
Content-Type: application/json
Authorization: Bearer <token>

{
  "title": "çº¢é˜Ÿ vs è“é˜Ÿ",
  "team1Id": "team-uuid-1",
  "team2Id": "team-uuid-2",
  "matchDate": "2025-03-15 14:00:00",
  "location": "å¸‚ä½“è‚²åœº",
  "seasonId": "550e8400-e29b-41d4-a716-446655440000",
  "quarterSystem": true
}
```

#### 4. æŸ¥çœ‹èµ›å­£è¯¦æƒ…

```bash
GET /api/season/550e8400-e29b-41d4-a716-446655440000/detail
Authorization: Bearer <token>
```

#### 5. æŸ¥çœ‹èµ›å­£ç»Ÿè®¡å’Œæ’å

```bash
GET /api/season/550e8400-e29b-41d4-a716-446655440000/statistics
Authorization: Bearer <token>
```

#### 6. èµ›å­£ç»“æŸåæ ‡è®°å®Œæˆ

```bash
POST /api/season/550e8400-e29b-41d4-a716-446655440000/complete
Authorization: Bearer <token>
```

---

## æ•°æ®åº“å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   seasons   â”‚
â”‚             â”‚
â”‚ - id (PK)   â”‚
â”‚ - name      â”‚
â”‚ - title     â”‚
â”‚ - status    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 1:N
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   matches   â”‚
â”‚             â”‚
â”‚ - id (PK)   â”‚
â”‚ - season_id â”‚â—„â”€â”€â”€ å¤–é”®
â”‚ - team1_id  â”‚
â”‚ - team2_id  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å¤–é”®çº¦æŸï¼š**
- `matches.season_id` â†’ `seasons.id`
- åˆ é™¤ç­–ç•¥ï¼š`ON DELETE SET NULL`ï¼ˆåˆ é™¤èµ›å­£æ—¶ï¼Œæ¯”èµ›çš„ season_id è®¾ä¸º NULLï¼‰
- æ›´æ–°ç­–ç•¥ï¼š`ON UPDATE CASCADE`ï¼ˆæ›´æ–°èµ›å­£IDæ—¶ï¼Œçº§è”æ›´æ–°ï¼‰

---

## å¸¸è§é—®é¢˜

### Q1ï¼šå¯ä»¥ä¿®æ”¹èµ›å­£çš„æœ€å¤§æ¯”èµ›åœºæ•°å—ï¼Ÿ

å¯ä»¥ã€‚é€šè¿‡ `PUT /api/season/:seasonId` æ¥å£æ›´æ–° `maxMatches` å­—æ®µã€‚ä½†å¦‚æœå½“å‰æ¯”èµ›æ•°å·²ç»è¶…è¿‡æ–°çš„é™åˆ¶ï¼Œä¸ä¼šå½±å“å·²æœ‰æ¯”èµ›ï¼Œåªä¼šé™åˆ¶æ–°å¢æ¯”èµ›ã€‚

### Q2ï¼šåˆ é™¤èµ›å­£åï¼Œå…³è”çš„æ¯”èµ›ä¼šè¢«åˆ é™¤å—ï¼Ÿ

ä¸ä¼šã€‚åˆ é™¤èµ›å­£æ—¶ï¼Œå…³è”æ¯”èµ›çš„ `season_id` ä¼šè¢«è®¾ç½®ä¸º `NULL`ï¼Œæ¯”èµ›æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚

### Q3ï¼šå¦‚ä½•æŸ¥è¯¢æŸä¸ªèµ›å­£çš„æ‰€æœ‰æ¯”èµ›ï¼Ÿ

æ–¹å¼1ï¼šä½¿ç”¨èµ›å­£è¯¦æƒ…æ¥å£ `GET /api/season/:seasonId/detail`ï¼Œè¿”å›æ•°æ®ä¸­åŒ…å« `matches` æ•°ç»„ã€‚

æ–¹å¼2ï¼šä½¿ç”¨æ¯”èµ›åˆ—è¡¨æ¥å£ `GET /api/match/list?seasonId=xxx`ï¼ˆéœ€è¦åœ¨ match.service.js ä¸­æ·»åŠ  seasonId æŸ¥è¯¢æ”¯æŒï¼‰ã€‚

### Q4ï¼šèµ›å­£å®Œæˆåè¿˜èƒ½ä¿®æ”¹ä¿¡æ¯å—ï¼Ÿ

å¯ä»¥ä¿®æ”¹é™¤ `status` ä»¥å¤–çš„å­—æ®µï¼ˆå¦‚ titleã€descriptionï¼‰ã€‚ä½†ä¸å»ºè®®ä¿®æ”¹å·²å®Œæˆèµ›å­£çš„å…³é”®ä¿¡æ¯ã€‚

### Q5ï¼šå¦‚ä½•å®ç°"èµ›å­£ç»“æŸåé‡æ–°ç»„å»ºé˜Ÿä¼"ï¼Ÿ

è¿™ä¸ªåŠŸèƒ½å·²ç»å­˜åœ¨äº `TeamReshuffle` æ¨¡å—ä¸­ã€‚æµç¨‹ï¼š
1. å®Œæˆå½“å‰èµ›å­£ï¼š`POST /api/season/:seasonId/complete`
2. åˆ›å»ºæ–°èµ›å­£ï¼š`POST /api/season`
3. å‘èµ·é˜Ÿä¼é‡ç»„ï¼šä½¿ç”¨ `/api/team/reshuffle` ç›¸å…³æ¥å£
4. Drafté€‰äººå®Œæˆåï¼Œæ–°é˜Ÿä¼å…³è”åˆ°æ–°èµ›å­£

---

## ç‰ˆæœ¬å†å²

- **v1.0.0** (2025-10-18)
  - åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
  - æ”¯æŒèµ›å­£CRUDæ“ä½œ
  - æ”¯æŒèµ›å­£ç»Ÿè®¡å’Œæ’å
  - æ”¯æŒæ¯”èµ›å…³è”èµ›å­£

---

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ä¸»æ–‡æ¡£ `APIæ–‡æ¡£.md` æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚
